<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Unable to locate site descriptor : maven-site-plugin problem</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://tcollignon.github.io/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//tcollignon.github.io/themes/casper/assets/css/screen.css?v=1480974536777" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />

    <link rel="canonical" href="https://tcollignon.github.io/2016/10/24/Unable-to-locate-site-descriptor-maven-site-plugin-problem.html" />
    <meta name="referrer" content="origin" />
    
    <meta property="og:site_name" content="TCO Blog" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Unable to locate site descriptor : maven-site-plugin problem" />
    <meta property="og:description" content="If you run maven-site-plugin in project with inheritance, you may be confronted to this error : [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.4:site (default-site) on project XXXXX: SiteToolException: The site descriptor cannot be resolved from the repository: ArtifactResolutionException: Unable to locate site descrip" />
    <meta property="og:url" content="https://tcollignon.github.io/2016/10/24/Unable-to-locate-site-descriptor-maven-site-plugin-problem.html" />
    <meta property="article:tag" content="Maven" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Unable to locate site descriptor : maven-site-plugin problem" />
    <meta name="twitter:description" content="If you run maven-site-plugin in project with inheritance, you may be confronted to this error : [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.4:site (default-site) on project XXXXX: SiteToolException: The site descriptor cannot be resolved from the repository: ArtifactResolutionException: Unable to locate site descrip" />
    <meta name="twitter:url" content="https://tcollignon.github.io/2016/10/24/Unable-to-locate-site-descriptor-maven-site-plugin-problem.html" />
    
    <script type="application/ld+json">
null
    </script>

    <meta name="generator" content="HubPress" />
    <link rel="alternate" type="application/rss+xml" title="TCO Blog" href="https://tcollignon.github.io/rss/" />
</head>
<body class="post-template tag-Maven nav-closed">

    

    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        <a class="blog-logo" href="https://tcollignon.github.io"><img src="images/tux.png" alt="TCO Blog" /></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post tag-Maven">

        <header class="post-header">
            <h1 class="post-title">Unable to locate site descriptor : maven-site-plugin problem</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2016-10-24">24 October 2016</time>  on <a href="https://tcollignon.github.io/tag/Maven/">Maven</a>
            </section>
        </header>

        <section class="post-content">
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>If you run maven-site-plugin in project with inheritance, you may be confronted to this error :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.4:site (default-site) on project XXXXX: SiteToolException: The site descriptor cannot be resolved from the repository:
ArtifactResolutionException: Unable to locate site descriptor: Could not transfer artifact [PARENT-PROJECT]:xml:site_en:&lt;version&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_explanations">Explanations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When maven-site-plugin is located in project with inheritence, it search the parent projet descriptor in order to manage optionnal inheritence in descriptor file (<em>site.xml</em>). So it search in the repository this kind of file : <strong>&lt;parent.artifactId&gt;-&lt;parent.version&gt;-site_&lt;lang&gt;.xml</strong></p>
</div>
<div class="paragraph">
<p>Since Maven 3.X in project of type pom, the site descriptor is no longer attached to the project. So it will not be installed or deployed by Maven. So by default, you will never find parent descriptor in the repository. However you don&#8217;t get always the previous error.</p>
</div>
<div class="paragraph">
<p>Indeed, maven-site-plugin will try to search the parent descriptor in every repository you defined in maven configuration (<em>settings.xml</em>), and if it don&#8217;t find, it will exit without error.</p>
</div>
<div class="paragraph">
<p>So now, what&#8217;s the problem ?</p>
</div>
<div class="paragraph">
<p>When maven-site-plugin search in every repository, it happen that some repository is not accessible (credentials problem!), and it that case, it will fail with previous error. And the fact is, this error don&#8217;t happened on every customers of the same project. That&#8217;s because maybe are directly with Maven central for example, others are maybe with Artifactory/Nexus proxy, or something else.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_problems">Problems</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The main problem is : If I don&#8217;t want or use inheritence in descriptor why I have got this error, and what are the solutions?</p>
</div>
<div class="paragraph">
<p>The first thing is that maven-site-plugin by default don&#8217;t know if descriptor need inheritence or not. So by default if the project have a parent pom, it will search parent descriptor. Theres is no options in maven-site-plugin for now to desactivate this.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_solutions">Solutions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After reading many article of this problem and read the maven-site and descriptor documentation, I found (at least) 3 options to deal with this "feature" :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add parent (and parent.parent recursively if necessary) descriptor in the repository</p>
</li>
<li>
<p>Avoid repository credentials issue</p>
</li>
<li>
<p>Tell maven-site-plugin to not using inheritence in descriptor</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_add_parent_descriptor_in_the_repository">Add parent descriptor in the repository</h3>
<div class="paragraph">
<p>To do this with Maven 3.X, you need to attach the descriptor in the parent projet, in order to deploy it. You need to add a site descriptor (even empty) in the parent project (src/site/site.xml). And after that you need to call <strong>attach-descriptor</strong> goal. You can bind this goal in the parent pom by default. See this documentation if you need more informations : <a href="https://maven.apache.org/plugins/maven-site-plugin/attach-descriptor-mojo.html" class="bare">https://maven.apache.org/plugins/maven-site-plugin/attach-descriptor-mojo.html</a></p>
</div>
<div class="paragraph">
<p>If you need or will need descriptor inheritence, this is the best option.</p>
</div>
</div>
<div class="sect2">
<h3 id="_avoid_repository_credentials_issue">Avoid repository credentials issue</h3>
<div class="paragraph">
<p>In fact, the main problem here is the credentials issue when maven-site-plugin try to find parent descriptor in the repositories. So to avoid the problem, you can add permissions in all of the declared repositories and all will be fine.</p>
</div>
<div class="paragraph">
<p>This is not my favourite option because sometimes you can&#8217;t or don&#8217;t want to change repository permissions. This is only a hack to get around this problem.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tell_maven_site_plugin_to_not_using_inheritence">Tell maven-site-plugin to not using inheritence</h3>
<div class="paragraph">
<p>The solution I found in maven site documentation is telling to the descriptor to not use inheritence. With this option maven-site-plugin will not search parent descriptor in every repositories.
This option is <strong>combine.self</strong> with value <strong>override</strong> in project tag. See the example below :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;project name="test" combine.self="override"&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This is my favourite option if you don&#8217;t need inheritence, because you don&#8217;t touch to the repository configuration and you don&#8217;t add parent descriptor with nothing inside because you don&#8217;t need it.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links">Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="http://stackoverflow.com/questions/23597456/how-to-avoid-checking-parent-project-in-maven-site-plugin" class="bare">http://stackoverflow.com/questions/23597456/how-to-avoid-checking-parent-project-in-maven-site-plugin</a></p>
</li>
<li>
<p><a href="http://stackoverflow.com/questions/22215831/how-do-i-get-maven-site-descriptors-to-deploy-to-artifactory" class="bare">http://stackoverflow.com/questions/22215831/how-do-i-get-maven-site-descriptors-to-deploy-to-artifactory</a></p>
</li>
</ul>
</div>
</div>
</div>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="https://tcollignon.github.io/author/tcollignon/" style="background-image: url(https://avatars.githubusercontent.com/u/1019783?v&#x3D;3)"><span class="hidden">COLLIGNON Thomas's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="https://tcollignon.github.io/author/tcollignon/">COLLIGNON Thomas</a></h4>

                    <p>Read <a href="https://tcollignon.github.io/author/tcollignon/">more posts</a> by this author.</p>
                <div class="author-meta">
                    <span class="author-location icon-location">Metz</span>
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Unable%20to%20locate%20site%20descriptor%20%3A%20maven-site-plugin%20problem&amp;url=https://tcollignon.github.io/"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://tcollignon.github.io/"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://tcollignon.github.io/"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


        <section class="post-comments">
          <div id="disqus_thread"></div>
          <script type="text/javascript">
          var disqus_shortname = 'https-tcollignon-github-io'; // required: replace example with your forum shortname
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </section>


    </article>

</main>

<aside class="read-next">
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="https://tcollignon.github.io">TCO Blog</a> &copy; 2016</section>
            <section class="poweredby">Proudly published with <a href="http://hubpress.io">HubPress</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();
      </script>

    <script type="text/javascript" src="//tcollignon.github.io/themes/casper/assets/js/jquery.fitvids.js?v=1480974536777"></script>
    <script type="text/javascript" src="//tcollignon.github.io/themes/casper/assets/js/index.js?v=1480974536777"></script>

</body>
</html>
