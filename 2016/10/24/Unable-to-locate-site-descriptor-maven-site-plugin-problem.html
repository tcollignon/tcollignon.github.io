<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Unable to locate site descriptor : maven-site-plugin problem</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Unable to locate site descriptor : maven-site-plugin problem">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Unable to locate site descriptor : maven-site-plugin problem">
    <meta property="og:description" content="">

    <!-- <meta name="twitter:site" content="">

<meta name="twitter:creator" content="">

<meta name="google-site-verification" content="">

<meta property="fb:admins" content="">
 -->

    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="/apple-touch-icon-precomposed.png" rel="apple-touch-icon">

    <link href="//fonts.googleapis.com/" rel="dns-prefetch">
    <link href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Open+Sans:700,400&subset=latin,latin-ext" rel="stylesheet">

    <link rel="stylesheet" href="//tcollignon.github.io/themes/ghostium/assets/css/main.min.css?v=1519146927460"/>
    <link rel="stylesheet" href="//tcollignon.github.io/themes/ghostium/assets/css/custom.css?v=1519146927460"/>
    <link rel="stylesheet" href="//tcollignon.github.io/themes/ghostium/assets/css/asciidoctor-foundation.css?v=1519146927460"/>




    <script type="text/javascript">
      var ga_ua = 'UA-XXXXX-X';
      
      var disqus_shortname = 'example';
      
      var enable_pjax = true;

      // Pace Options
      // ==============
      window.paceOptions = {
        catchupTime: 100,
        minTime: 100,
        elements: false,
        restartOnRequestAfter: 500,
        startOnPageLoad: false
      }

      // Ghostium Globals
      // ==============
      window.GHOSTIUM = {};
      GHOSTIUM.haveGA = typeof ga_ua !== 'undefined' && ga_ua !== 'UA-XXXXX-X';
      GHOSTIUM.haveDisqus = typeof disqus_shortname !== 'undefined' && disqus_shortname !== 'example';
      GHOSTIUM.enablePjax = typeof enable_pjax !== 'undefined' ? enable_pjax : true;
    </script>

    <script src="//tcollignon.github.io/themes/ghostium/assets/js/head-scripts.min.js?v=1519146927460"></script>

    <link rel="canonical" href="https://tcollignon.github.io/2016/10/24/Unable-to-locate-site-descriptor-maven-site-plugin-problem.html" />
    <meta name="referrer" content="origin" />
    
    <meta property="og:site_name" content="TCO Blog" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Unable to locate site descriptor : maven-site-plugin problem" />
    <meta property="og:description" content="If you run maven-site-plugin in project with inheritance, you may be confronted to this error : [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.4:site (default-site) on project XXXXX: SiteToolException: The site descriptor cannot be resolved from the repository: ArtifactResolutionException: Unable to locate site descrip" />
    <meta property="og:url" content="https://tcollignon.github.io/2016/10/24/Unable-to-locate-site-descriptor-maven-site-plugin-problem.html" />
    <meta property="article:tag" content="Maven" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Unable to locate site descriptor : maven-site-plugin problem" />
    <meta name="twitter:description" content="If you run maven-site-plugin in project with inheritance, you may be confronted to this error : [ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.4:site (default-site) on project XXXXX: SiteToolException: The site descriptor cannot be resolved from the repository: ArtifactResolutionException: Unable to locate site descrip" />
    <meta name="twitter:url" content="https://tcollignon.github.io/2016/10/24/Unable-to-locate-site-descriptor-maven-site-plugin-problem.html" />
    
    <script type="application/ld+json">
null
    </script>

    <meta name="generator" content="HubPress" />
    <link rel="alternate" type="application/rss+xml" title="TCO Blog" href="https://tcollignon.github.io/rss/" />
  </head>
  <body class="post-template tag-Maven">

    <button data-action="open-drawer" id="drawer-button" class="drawer-button"><i class="fa fa-bars"></i></button>
    <nav tabindex="-1" class="drawer">
      <div class="drawer-container">
        <!--.drawer-search(role="search")-->
        <ul role="navigation" class="drawer-list">
          
          <li class="drawer-list-item">
            <a href="https://tcollignon.github.io" data-pjax>
              <i class="fa fa-home"></i>Home
            </a>
          </li>
          <!-- <li class="drawer-list-item">
            <a href="https://tcollignon.github.io" title="TCO Blog" data-pjax>
              <i class="fa fa-list-alt"></i>All posts
            </a>
          </li> -->
          <li class="drawer-list-item">
            <a href="https://tcollignon.github.io/rss/">
              <i class="fa fa-rss"></i>Subscribe to Feed
            </a>
          </li>
          <li class="drawer-list-divider"></li>
          <li class="drawer-list-item drawer-list-title">
            Follow me
          </li>
          
          
          <li class="drawer-list-item">
            <a href="@collignont" title="Twitter" target="_blank">
              <i class="fa fa-twitter"></i>Twitter
            </a>
          </li>
          <li class="drawer-list-item">
            <a href="tcollignon" title="Github" target="_blank">
              <i class="fa fa-github"></i>Github
            </a>
          </li>
          <li class="drawer-list-item">
            <a href="https://fr.linkedin.com/in/thomas-collignon-707224121" title="LinkedIn" target="_blank">
              <i class="fa fa-linkedin"></i>LinkedIn
            </a>
          </li>
          <li class="drawer-list-item">
            <a href="mailto:tomiphone3G@gmail.com" title="Email" target="_blank">
              <i class="fa fa-envelope-o"></i>Email
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="drawer-overlay"></div>
    <main id="container" role="main" class="container">
      <div class="surface">
        <div class="surface-container">
          <div data-pjax-container class="content">
            
<section class="wrapper wrapper-post">
  <div class="wrapper-container">
    <article itemscope itemtype="http://schema.org/BlogPosting" role="article" class="post post tag-Maven">
        <section class="post-container">
          <header class="post-header">
            <ul class="post-meta-list">
              <li class="post-meta-item">
                <time datetime="2016-10-24" itemprop="datePublished">
                  a year ago
                </time>
              </li>
                <li class="post-meta-item">
                  <span class="tags"><i class="fa fa-tags"></i>
                      <span>
                      <a href="https://tcollignon.github.io/tag/Maven/">Maven</a></span>
                  </span>
                </li>
              <li class="post-meta-item">
                <a href="#disqus_thread" data-disqus-identifier="">Comments</a>
              </li>
            </ul>
            <h1 itemprop="name headline" class="post-title"><a href="/" itemprop="url" data-pjax title="Unable to locate site descriptor : maven-site-plugin problem">Unable to locate site descriptor : maven-site-plugin problem</a></h1>
            <!--h2 itemprop="about" class="post-subtitle"></h2-->
          </header>
          <aside class="post-side">
            <div class="post-author">
                <a href="https://tcollignon.github.io" class="post-author-avatar">
                  <img src="https://avatars0.githubusercontent.com/u/1019783?v&#x3D;4" alt="COLLIGNON Thomas">
                </a>
              <div class="post-author-info">
                <a href="https://tcollignon.github.io" class="post-author-name">
                  COLLIGNON Thomas
                </a>
                <p class="post-author-bio"></p>
              </div>
            </div>
          </aside>
          <div itemprop="articleBody" class="post-body">
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>If you run maven-site-plugin in project with inheritance, you may be confronted to this error :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:3.4:site (default-site) on project XXXXX: SiteToolException: The site descriptor cannot be resolved from the repository:
ArtifactResolutionException: Unable to locate site descriptor: Could not transfer artifact [PARENT-PROJECT]:xml:site_en:&lt;version&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_explanations">Explanations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When maven-site-plugin is located in project with inheritence, it search the parent projet descriptor in order to manage optionnal inheritence in descriptor file (<em>site.xml</em>). So it search in the repository this kind of file : <strong>&lt;parent.artifactId&gt;-&lt;parent.version&gt;-site_&lt;lang&gt;.xml</strong></p>
</div>
<div class="paragraph">
<p>Since Maven 3.X in project of type pom, the site descriptor is no longer attached to the project. So it will not be installed or deployed by Maven. So by default, you will never find parent descriptor in the repository. However you don&#8217;t get always the previous error.</p>
</div>
<div class="paragraph">
<p>Indeed, maven-site-plugin will try to search the parent descriptor in every repository you defined in maven configuration (<em>settings.xml</em>), and if it don&#8217;t find, it will exit without error.</p>
</div>
<div class="paragraph">
<p>So now, what&#8217;s the problem ?</p>
</div>
<div class="paragraph">
<p>When maven-site-plugin search in every repository, it happen that some repository is not accessible (credentials problem!), and it that case, it will fail with previous error. And the fact is, this error don&#8217;t happened on every customers of the same project. That&#8217;s because maybe are directly with Maven central for example, others are maybe with Artifactory/Nexus proxy, or something else.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_problems">Problems</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The main problem is : If I don&#8217;t want or use inheritence in descriptor why I have got this error, and what are the solutions?</p>
</div>
<div class="paragraph">
<p>The first thing is that maven-site-plugin by default don&#8217;t know if descriptor need inheritence or not. So by default if the project have a parent pom, it will search parent descriptor. Theres is no options in maven-site-plugin for now to desactivate this.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_solutions">Solutions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After reading many article of this problem and read the maven-site and descriptor documentation, I found (at least) 3 options to deal with this "feature" :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add parent (and parent.parent recursively if necessary) descriptor in the repository</p>
</li>
<li>
<p>Avoid repository credentials issue</p>
</li>
<li>
<p>Tell maven-site-plugin to not using inheritence in descriptor</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_add_parent_descriptor_in_the_repository">Add parent descriptor in the repository</h3>
<div class="paragraph">
<p>To do this with Maven 3.X, you need to attach the descriptor in the parent projet, in order to deploy it. You need to add a site descriptor (even empty) in the parent project (src/site/site.xml). And after that you need to call <strong>attach-descriptor</strong> goal. You can bind this goal in the parent pom by default. See this documentation if you need more informations : <a href="https://maven.apache.org/plugins/maven-site-plugin/attach-descriptor-mojo.html" class="bare">https://maven.apache.org/plugins/maven-site-plugin/attach-descriptor-mojo.html</a></p>
</div>
<div class="paragraph">
<p>If you need or will need descriptor inheritence, this is the best option.</p>
</div>
</div>
<div class="sect2">
<h3 id="_avoid_repository_credentials_issue">Avoid repository credentials issue</h3>
<div class="paragraph">
<p>In fact, the main problem here is the credentials issue when maven-site-plugin try to find parent descriptor in the repositories. So to avoid the problem, you can add permissions in all of the declared repositories and all will be fine.</p>
</div>
<div class="paragraph">
<p>This is not my favourite option because sometimes you can&#8217;t or don&#8217;t want to change repository permissions. This is only a hack to get around this problem.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tell_maven_site_plugin_to_not_using_inheritence">Tell maven-site-plugin to not using inheritence</h3>
<div class="paragraph">
<p>The solution I found in maven site documentation is telling to the descriptor to not use inheritence. With this option maven-site-plugin will not search parent descriptor in every repositories.
This option is <strong>combine.self</strong> with value <strong>override</strong> in project tag. See the example below :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;project name="test" combine.self="override"&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This is my favourite option if you don&#8217;t need inheritence, because you don&#8217;t touch to the repository configuration and you don&#8217;t add parent descriptor with nothing inside because you don&#8217;t need it.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links">Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="http://stackoverflow.com/questions/23597456/how-to-avoid-checking-parent-project-in-maven-site-plugin" class="bare">http://stackoverflow.com/questions/23597456/how-to-avoid-checking-parent-project-in-maven-site-plugin</a></p>
</li>
<li>
<p><a href="http://stackoverflow.com/questions/22215831/how-do-i-get-maven-site-descriptors-to-deploy-to-artifactory" class="bare">http://stackoverflow.com/questions/22215831/how-do-i-get-maven-site-descriptors-to-deploy-to-artifactory</a></p>
</li>
</ul>
</div>
</div>
</div>
          </div>
          <footer class="post-footer">
            <div itemprop="author" itemscope itemtype="http://schema.org/Person" class="post-author">
                <a href="https://tcollignon.github.io" class="post-author-avatar">
                  <img itemprop="image" src="https://avatars0.githubusercontent.com/u/1019783?v&#x3D;4" alt="COLLIGNON Thomas">
                </a>
              <div class="post-author-info">
                <h4 class="post-footer-heading">Written By</h4>
                <a href="https://tcollignon.github.io" itemprop="url" class="post-author-name">
                  <span itemprop="name">COLLIGNON Thomas</span>
                </a>
                <p itemprop="description" class="post-author-bio"></p>
                  <p class="post-author-location">Metz</p>
                  <p class="post-author-website">
                    <a href="https://tcollignon.github.io" rel="nofollow">https://tcollignon.github.io</a>
                  </p>
                <p class="post-info">
                  <b class="post-info-title">Published on</b>
                  <time class="post-date">October 24, 2016</time>
                </p>
              </div>
            </div>
            <div class="post-social">
              <h4 class="post-footer-heading">Spread the word</h4>
              <a href="#" data-action="share-twitter"><i class="fa fa-fw fa-lg fa-twitter"></i></a>
              <a href="#" data-action="share-facebook"><i class="fa fa-fw fa-lg fa-facebook"></i></a>
              <a href="#" data-action="share-gplus"><i class="fa fa-fw fa-lg fa-google-plus"></i></a>
            </div>
          </footer>
        </section>
      <section itemprop="comment" class="post-comments">
        <div id="disqus_thread"></div>
      </section>
    </article>

    <footer role="contentinfo" class="footer">
      <p><small>Copyright &copy; <span itemprop="copyrightHolder">TCO Blog</span>. 2018. All Rights Reserved.</small></p>
      <p><small><a href="http://ghostium.oswaldoacauan.com/" target="_blank">Ghostium Theme</a> by <a href="http://twitter.com/oswaldoacauan" target="_blank">@oswaldoacauan</a></small></p>
      <p><small>Adapted by <a href="https://twitter.com/mgreau">Maxime Gr√©au</a></small></p>
      <p><small>Published with <a href="http://hubpress.io">HubPress</a></small></p>
    </footer>
  </div>
</section>


<section class="post-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
  var disqus_shortname = 'https-tcollignon-github-io'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


          </div>
        </div>
      </div>
    </main>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();
      </script>

    <script src="//tcollignon.github.io/themes/ghostium/assets/js/foot-scripts.min.js?v=1519146927460"></script>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-88524010-1', 'auto');
    ga('send', 'pageview');

    </script>

  </body>
</html>
